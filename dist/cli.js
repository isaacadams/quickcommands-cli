/* 
        NOTICE NOTICE NOTICE 
                         
        THIS IS AN AUTOMATICALLY GENERATED FILE BY GULP

        DO NOT EDIT THIS FILE DIRECTLY

        MAKE EDITS TO THE SAME FILE LOCATED IN THE 'SRC' FOLDER
    */

"use strict";

var _utilities = require("./utilities");

var cli = function cli(arg, cb) {
  switch (arg) {
    case 'git.addremote':
      gitaddremote(cb);
      break;

    case 'git.addignore':
      gitaddignore(cb);
      break;

    case 'git.report':
      (0, _utilities.runCommand)('qcmd-py', cb);
      break;

    default:
      cb('no such command exists');
      break;
  }

  function gitaddremote(cb) {
    var nickname = (0, _utilities.getCLIArgument)('nickname');
    var link = (0, _utilities.getCLIArgument)('link');

    if ((0, _utilities.isNullUndefinedOrEmpty)(nickname) || (0, _utilities.isNullUndefinedOrEmpty)(link)) {
      return cb('required arguments --nickname and --link are missing');
    }

    var command = "\n            git checkout master &&\n            git remote add ".concat(nickname, " ").concat(link, " &&\n            git fetch ").concat(nickname, " &&\n            git pull ").concat(nickname, " master --allow-unrelated-histories &&\n            git branch -u ").concat(nickname, "/master master &&\n            git add *\n            git push\n        ");
    (0, _utilities.runCommand)(command, cb);
  }

  function gitaddignore(cb) {
    var command = "\n            echo node_modules/>> .gitignore && \n            git reset && \n            git add .gitignore && \n            git commit -m \"added git ignore and ignoring node_modules folder\"\n        ";
    (0, _utilities.runCommand)(command, cb);
  }
};

module.exports.cli = cli;